homeassistant:
  name: Home
  latitude: !secret latitude
  longitude: !secret longitude
  elevation: 40
  unit_system: metric
  time_zone: Europe/Oslo
  whitelist_external_dirs: /home/homeassistant/.homeassistant
  customize: !include_dir_merge_named customize

frontend:
  themes: !include themes.yaml

customizer:
  custom_ui: local

config:
updater:
  include_used_components: true
discovery:
cloud:
sun:

http:
  api_password: !secret http_password
  base_url: !secret base_url
  ssl_certificate: !secret ssl_cert
  ssl_key: !secret ssl_key
  trusted_networks:
    - 127.0.0.1
    - 192.168.0.0/24
  ip_ban_enabled: true
  login_attempts_threshold: 5

recorder: !include recorder.yaml
history: !include history.yaml
logbook: !include logbook.yaml

sensor: !include_dir_merge_list sensors
group: !include_dir_merge_named groups
automation: !include_dir_merge_list automations
script: !include scripts.yaml
light: !include lights.yaml
media_player: !include media.yaml
input_boolean: !include input_boolean.yaml
input_select: !include input_select.yaml

tellduslive:
  host: !secret telldus_host
  update_interval: 10

netatmo:
  api_key: !secret netatmo_api_key
  secret_key: !secret netatmo_secret_key
  username: !secret netatmo_username
  password: !secret netatmo_password
  discovery: false

weather:
  - platform: yweather

climate:
  - platform: generic_thermostat
    name: Termostat (Stue)
    heater: group.livingroom_heaters
    target_sensor: sensor.smoke_sensor_livingroom_temperature
    target_temp: 22
    cold_tolerance: 0.3
    hot_tolerance: 0.1
    away_temp: 16

timer:
  bedroom_charger:
    name: Lader Soverom (1.5t)
    duration: '01:30:00'
    icon: mdi:battery-charging-70

device_tracker:
  - platform: bluetooth_tracker
  - platform: nmap_tracker
    hosts: 192.168.0.0/24
    home_interval: 10
    scan_options: " --privileged -sP "
    exclude:
      - 192.168.0.10
      - 192.168.0.27

notify:
  - name: browser
    platform: html5
    gcm_api_key: !secret gcm_api_key
    gcm_sender_id: !secret gcm_sender_id
  - name: file
    platform: file
    filename: notifications.log
  - name: slack
    platform: slack
    api_key: !secret slack_token
    default_channel: '#general'
  - name: default
    platform: group
    services:
      - service: browser
      - service: file
      - service: slack

google_assistant:
  project_id: home-assistant-203322
  client_id: !secret ga_client_id
  access_token: !secret ga_access_token
  agent_user_id: !secret ga_agent_user_id
  api_key: !secret ga_api_key
  exposed_domains:
    - input_boolean
    - switch
    - light
    - climate
  entity_config:
    climate.termostat_stue:
      name: Thermostat
      room: Living Room
      aliases:
        - Living Room Thermostat
        - Living Room Temperature
        - Temperature
    input_boolean.home:
      name: Home
      room: Status
      aliases:
        - Home Status
        - Home Mode
    input_boolean.sleep:
      name: Sleep
      room: Status
      aliases:
        - Sleep Status
        - Sleep Mode
    input_boolean.away:
      name: Away
      room: Status
      aliases:
        - Away Status
        - Away Mode
    input_boolean.vacation:
      expose: false
    switch.power_hall_light:
      name: Lights
      room: Hall
      aliases:
        - Hall Lights
        - Entry Lights
    switch.power_livingroom_light:
      name: Lights
      room: Living Room
      aliases:
        - Living Room Lights
        - Sofa Lights
    switch.power_livingroom_sofa:
      name: Power Sofa
      room: Living Room
      aliases:
        - Sofa Power
        - Sofa Plug
    switch.power_outside_lights:
      name: Lights
      room: Outside
      aliases:
        - Outside Lights
        - Terrace Lights
        - Balcony Lights
    switch.power_bedroom_light:
      name: Lights
      room: Bedroom
      aliases:
        - Bedroom Lights
        - Bed Lights
    switch.power_bedroom_charger:
      name: Charger
      room: Bedroom
      aliases:
        - Bedroom Charger
        - Phone Charger
        - Bedroom Power
    switch.power_livingroom_heater_left:
      name: Heater
      room: Living Room
      aliases:
        - Living Room Heater
        - Living Room Heaters
    switch.power_livingroom_heater_right:
      name: Heater
      room: Living Room
      aliases:
        - Living Room Heater
        - Living Room Heaters
    switch.power_livingroom_tv:
      expose: false
    switch.power_livingroom_pc:
      expose: false
    switch.thermometer_storeroom:
      expose: false

tts:
  - platform: google
